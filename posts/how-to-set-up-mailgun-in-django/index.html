<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="In this tutorial, I will try to cover configuring a custom domain for sending emails in your application. The benefit of using mailgun is that it allows you to send (5,000) emails for free during the first three months (then you will pay $0.8 per 1,000 emails) and its setup procedure is so straightforward. You will only need to add your payment verification to be able to send emails without any restrictions."><meta name=keywords content="Yalchin Mammadli Software Developer Python Golang Node.js,Django,Mailgun"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=/posts/how-to-set-up-mailgun-in-django/><title>How to Set Up Mailgun in Django :: Yalchin's Blog — Notes about the things I learn</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="How to Set Up Mailgun in Django"><meta itemprop=description content="In this tutorial, I will try to cover configuring a custom domain for sending emails in your application. The benefit of using mailgun is that it allows you to send (5,000) emails for free during the first three months (then you will pay $0.8 per 1,000 emails) and its setup procedure is so straightforward. You will only need to add your payment verification to be able to send emails without any restrictions."><meta itemprop=datePublished content="2022-04-23T20:41:10+04:00"><meta itemprop=dateModified content="2022-04-23T20:41:10+04:00"><meta itemprop=wordCount content="495"><meta itemprop=keywords content="Django,Mailgun,"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Set Up Mailgun in Django"><meta name=twitter:description content="In this tutorial, I will try to cover configuring a custom domain for sending emails in your application. The benefit of using mailgun is that it allows you to send (5,000) emails for free during the first three months (then you will pay $0.8 per 1,000 emails) and its setup procedure is so straightforward. You will only need to add your payment verification to be able to send emails without any restrictions."><meta property="article:published_time" content="2022-04-23 20:41:10 +0400 +0400"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>Hello, Friend</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/posts>Blog</a></li><li><a href=/personal/contact>Contact</a></li><li><a href=/resume/cv.pdf>Resume</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>3 minutes</p></div><article><h1 class=post-title><a href=/posts/how-to-set-up-mailgun-in-django/>How to Set Up Mailgun in Django</a></h1><figure class=post-cover><img src=/blog-images/mailgun.jpg alt="How to Set Up Mailgun in Django"></figure><div class=post-content><p>In this tutorial, I will try to cover configuring a custom domain for sending emails in your application. The benefit of using mailgun is that it allows you to send (5,000) emails for free during the first three months (then you will pay $0.8 per 1,000 emails) and its setup procedure is so straightforward. You will only need to add your payment verification to be able to send emails without any restrictions.</p><h3 id=sign-up--sign-in><strong>Sign up & Sign in</strong></h3><p><strong><img src=https://yalchin.info/media/images/mailgun-signup.png alt></strong></p><p>If you don&rsquo;t have an account yet, go to <a href=https://mailgun.com>mailgun</a> and sign up with your email, then add your payment verification.</p><p>In the <strong>Domains</strong> section of the website, click on add new domain to include your custom domain. For this tutorial only, let&rsquo;s say our domain is yalchin.info. You can include only the domain name, but mailgun recommends including a subdomain, so I will continue with mg.yalchin.info.![](</p><p>https:yalchin.info/media/images/mailgun-add-domain.png)</p><p>After choosing the domain name click on <strong>Add Domain</strong> button.</p><h3 id=adding-dns-records><strong>Adding DNS Records</strong></h3><p>After clicking to <strong>Add Domain</strong> button you will be prompted to a page to add DNS records and verify that you are the one who really owns the domain.</p><p>Now go to your <strong>DNS provider</strong>, in my case I&rsquo;m using <strong>Namecheap</strong>. Navigate to advanced DNS settings, and start to add DNS records shown on mailgun domain verification page.</p><p><img src=https://yalchin.info/media/images/mailgun-txt-record.png alt></p><p>Now, while adding txt records make sure that if you are using a subdomain like me (mg.yalchin.info), you don&rsquo;t need to add mg.yalchin.info for hostname, just include mg for the hostname or whatever you chose as a sub-name. <strong>Hence from now on, you don&rsquo;t need to include the original domain name while adding hostname, just include prefix before the original domain name. If you don&rsquo;t use a subdomain and instead you are using the original domain then put @ sign for the hostname.</strong> Then copy and paste appropriate values.</p><p>The same procedure applies to adding <strong>CNAME and MX records.</strong> Just like this:</p><p><img src=https://yalchin.info/media/images/mailgun-cname-record.png alt></p><p>After you are done, go back to mailgun DNS verification page, and click on verify button. If you added DNS records correctly, it will probably be verified within minutes, but theoretically, it can take 24-48 hours to be verified. After verifying, you are good to copy your credentials from mailgun and paste into <strong>settings.py</strong> in your django project. Just like shown beneath:</p><h3 id=setup-settingspy><strong>Setup settings.py</strong></h3><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    EMAIL_HOST <span style=color:#5bc4bf>=</span> <span style=color:#48b685>&#39;smtp.mailgun.org&#39;</span>
</span></span><span style=display:flex><span>    EMAIL_PORT <span style=color:#5bc4bf>=</span> <span style=color:#f99b15>587</span>
</span></span><span style=display:flex><span>    EMAIL_HOST_USER <span style=color:#5bc4bf>=</span> <span style=color:#48b685>&#39;mg@mail.yalchin.info&#39;</span>
</span></span><span style=display:flex><span>    EMAIL_HOST_PASSWORD <span style=color:#5bc4bf>=</span> <span style=color:#48b685>&#39;yourSupersecrectPassword&#39;</span>
</span></span><span style=display:flex><span>    EMAIL_USE_TLS <span style=color:#5bc4bf>=</span> <span style=color:#815ba4>True</span>
</span></span></code></pre></div><p><strong>Warning:</strong></p><p><strong>Do not include your password</strong> in the settings.py, but include them via the .env file and ignore the .env file with .gitignore; otherwise, your password can be leaked.</p><h3 id=send-email><strong>Send Email</strong></h3><p>In order to send emails in Django, you can use libraries and code snippet below:</p><div class=highlight><pre tabindex=0 style=color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>    <span style=color:#5bc4bf>from</span> <span style=color:#fec418>django.core.mail</span> <span style=color:#5bc4bf>import</span> send_mail
</span></span><span style=display:flex><span>    <span style=color:#5bc4bf>from</span> <span style=color:#fec418>portfolio.settings</span> <span style=color:#5bc4bf>import</span> EMAIL_HOST_USER   <span style=color:#776e71># import your email</span>
</span></span><span style=display:flex><span>    <span style=color:#5bc4bf>from</span> <span style=color:#fec418>django.core.mail</span> <span style=color:#5bc4bf>import</span> EmailMessage
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    email_body <span style=color:#5bc4bf>=</span><span style=color:#48b685>&#34;Yea we did it!&#34;</span>
</span></span><span style=display:flex><span>    email <span style=color:#5bc4bf>=</span> <span style=color:#48b685>&#34;emailYouWantedToSendMessageTo@example.com&#34;</span>
</span></span><span style=display:flex><span>    msg <span style=color:#5bc4bf>=</span> EmailMessage(
</span></span><span style=display:flex><span>                    <span style=color:#48b685>&#34;First Email Ever&#34;</span>,
</span></span><span style=display:flex><span>                    email_body,
</span></span><span style=display:flex><span>                    EMAIL_HOST_USER,
</span></span><span style=display:flex><span>                    [email]
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>                msg<span style=color:#5bc4bf>.</span>content_subtype <span style=color:#5bc4bf>=</span> <span style=color:#48b685>&#34;html&#34;</span>   <span style=color:#776e71># so that you can format you message with html tags</span>
</span></span><span style=display:flex><span>                msg<span style=color:#5bc4bf>.</span>send()
</span></span></code></pre></div><p><strong>Thanks for reading!</strong></p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=/tags/django/>Django</a></span>
<span class=tag><a href=/tags/mailgun/>Mailgun</a></span></p><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://blog-yalchin-ml.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>495 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2022-04-23 16:41</p></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=/posts/how-to-set-up-github-ssh-key/><span class=button__icon>←</span>
<span class=button__text>How to Set Up GitHub Ssh Key</span></a></span>
<span class="button next"><a href=/posts/how-to-deploy-nodejs-app/><span class=button__text>How to Deploy NodeJs App</span>
<span class=button__icon>→</span></a></span></div></div><div id=comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//blog-yalchin-ml.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.a2c5b062c87998f04d1b5dfb6a89a1b2d79786c21d0cb63a05e8a2082984b64b77d80955e3b97eab17273775162ba372511b711fea2f7608f216e68a67bb22d6.js integrity="sha512-osWwYsh5mPBNG137aomhsteXhsIdDLY6BeiiCCmEtkt32AlV47l+qxcnN3UWK6NyURtxH+ovdgjyFuaKZ7si1g=="></script></body></html>